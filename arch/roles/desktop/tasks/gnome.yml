---
- name: install gnome
  become: true
  pacman:
    name:
      - gnome
      - gnome-extra

- name: install gnome extras
  become: true
  pacman:
    name:
      - seahorse
      - network-manager-applet
      - hddtemp # for freon extension
      - xdg-desktop-portal
      - xdg-desktop-portal-gnome
      - wl-clipboard

- name: install gnome extras from aur
  kewlfft.aur.aur:
    name:
      - gnome-shell-extension-dash-to-dock
      - gnome-shell-extension-arch-update
      - gnome-shell-extension-bluetooth-quick-connect
      - gnome-shell-extension-freon
      - gnome-shell-extension-espresso-git
      - gnome-shell-extension-systemd-manager
      - gnome-shell-extension-no-overview
      - gnome-shell-extension-weather-in-the-clock-git

- name: install systemd policy file for systemd gnome extension
  become: true
  copy:
    dest: /etc/polkit-1/rules.d/10-service_status.rules
    owner: root
    group: root
    mode: 0644
    src: service.rules

# - name: disabled extensions
#   kewlfft.aur.aur:
#     name:
#       - gnome-shell-extension-openweather-git
#       - gnome-shell-extension-appindicator-git

- name: enable gdm
  become: true
  systemd: name=gdm.service enabled=yes
