---
- name: install audio packages
  become: true
  community.general.pacman:
    name:
      - alsa-utils
      - alsa-plugins
      - pipewire
      - pipewire-docs
      - pipewire-alsa
      - pipewire-pulse
      - wireplumber
      - pavucontrol

- name: enable network manager
  become: true
  ansible.builtin.systemd: name=NetworkManager.service enabled=true

- name: install keymapper
  become: true
  community.general.pacman: name=keymapper

- name: enable keymapperd
  become: true
  ansible.builtin.systemd: name=keymapperd.service enabled=true state=started

- name: install bluetooth packages
  become: true
  community.general.pacman:
    name:
      - bluez
      - bluez-utils
      - blueman

- name: enable bluetooth
  become: true
  ansible.builtin.systemd: name=bluetooth.service enabled=true

- name: install base packages
  become: true
  community.general.pacman:
    name:
      - firefox
      - firefox-i18n-en-us
      - firefox-i18n-es-es
      - firefox-i18n-fr
      - firefox-i18n-it
      - openssh
      - xsel

- include: gnome.yml
  when: mtype != 'media'

- include: xfce.yml
  when: mtype == 'media'

- include: printing.yml
  when: mtype != 'media'

- include: fonts.yml

# - name: install cursors
#   when: mtype != 'server'
#   kewlfft.aur.aur: name=xcursor-openzone
