---
- name: install audio packages
  become: true
  pacman:
    name:
      - alsa-utils
      - alsa-plugins
      - pulseaudio
      - pulseaudio-alsa
      - pavucontrol

- name: install xorg
  become: true
  pacman:
    name:
      - xorg-server
      - xorg-apps

- name: install desktop environment (xfce)
  become: true
  pacman:
    name:
      - xfce4
      - xfce4-goodies
      - lightdm
      - lightdm-gtk-greeter
      - network-manager-applet
      - accountsservice
      - xdg-user-dirs
      - gvfs
      - gvfs-afc
      - gvfs-mtp
      - gnome-keyring
      - seahorse

- name: install lightdm configuration
  become: true
  template:
    src: lightdm.conf.j2
    dest: /etc/lightdm/lightdm.conf
    owner: root
    group: root
    mode: 0644

- name: enable lightdm
  become: true
  systemd: name=lightdm.service enabled=yes

- name: enable network manager
  become: true
  systemd: name=NetworkManager.service enabled=yes

- name: install base packages
  become: true
  pacman:
    name:
      - firefox
      - firefox-i18n-en-us
      - firefox-i18n-es-es
      - firefox-i18n-fr
      - firefox-i18n-it
      - openssh
      - vim
      - vim-spell-en
      - vim-spell-es
      - vim-spell-fr
      - vim-spell-it
      - lynx
      - rsync
      - wget
      - xsel

- include: printing.yml
  when: mtype == 'personal'
