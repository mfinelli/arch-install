---
 - hosts: localhost
   vars:
     my_ansible_version: 2.8.6

     ffsend_version: 0.2.52
     golang_version: 1.13.3
     packer_version: 1.4.4
     terraform_version: 0.12.12
     terraform_old_version: 0.11.14
   tasks:
     - name: ensure ansible dependencies are installed
       become: True
       yum:
         name:
           - python
           - python-pip
         state: present

     - name: install the ansible v{{ my_ansible_version }}
       become: True
       pip: name=ansible version={{ my_ansible_version }}

     - name: install python3
       become: True
       yum:
         name:
           - python3
           - python3-pip
         state: present

     - name: install shell extras
       become: True
       yum:
         name:
           - bash-completion
           - zsh
         state: present

     - name: install networking tools
       become: True
       yum:
         name:
           - bind-utils
           - telnet
         state: present

     - name: ensure home {{ item }} dir for {{ whoami }}
       file: path=/home/{{ homedir }}/{{ item }} state=directory
       loop:
         - bin
         - src
         - tmp

     - name: install ffsend (firefox send cli)
       import_tasks: ./ffsend.yml

     - name: install hashicorp tools (terraform and packer)
       import_tasks: ./hashicorp.yml

     - name: install golang (amzn2 repo version is too old)
       import_tasks: ./golang.yml
